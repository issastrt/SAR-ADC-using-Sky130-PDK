name        : SAR-ADC-using-Sky130-PDK
description : Design of a SAR ADC for Wearable Biosensor Applications using SkyWater 130nm CMOS Technology
commit      : N/A
PDK         : sky130A
cace_format : 5.2

authorship:
  designer      : Samantha Eureka Daiz, Christian Mico A. Madrazo, Audrey T. Manahan, Isabelle Rose A. Sta Rita
  company       : De La Salle University
  creation_date : June 24, 2025
  license       : Apache 2.0
 
paths:
  root          : ..
  documentation : docs
  schematic     : xschem
  # magic         : mag
  # layout        : gds
  netlist       : netlist

pins:
  Q7:0:
    description : Digital output (8 bits)
    type        : digital
    direction   : output
    Vmin        : GND - 0.3
    Vmax        : VDD + 0.3
  Vin:
    description : ADC voltage input
    type        : signal
    direction   : input
    Vmin        : GND
    Vmax        : VDD
  VDD:
    description : Positive digital power supply
    type        : power
    direction   : inout
    Vmin        : 1.7
    Vmax        : 1.9
  GND:
    description : Analog ground
    type        : ground
    direction   : inout
    Vmin        : -0.1
    Vmax        : 0.1
  Vbias:
    description : Comparator bias voltage
    type        : signal
    direction   : input
    Vmin        : -1.0
    Vmax        : -0.8
  CLK:
    description : Clock signal input
    type        : digital
    direction   : input
    Vmin        : 0
    Vmax        : VDD
  EN:
    description : Enable pin (active low)
    type        : digital
    direction   : input
    Vmin        : 0
    Vmax        : VDD

default_conditions:
  VVDD:
    description : Analog power supply voltage
    display     : VDD
    unit        : V
    typical     : 1.8
  VVGND:
    description : Analog ground
    display     : VGND
    unit        : V
    typical     : 0
  VVbias:
    description : Voltage bias
    display     : Vbias
    unit        : V
    typical     : -0.9
  VVin:
    description : Input voltage
    display     : Vin
    unit        : V
    minimum     : 0
    typical     : 0.9
    maximum     : 1.8
  Rout:
    description : Output load resistance
    display     : RLoad
    unit        : MΩ
    typical     : 100
  Cout:
    description : Output load capacitance
    display     : CLoad
    unit        : fF
    maximum     : 100
  temperature:
    description : Ambient temperature
    display     : Temp
    unit        : °C
    minimum     : -40
    typical     : 27
    maximum     : 130
  corner:
    description : Process corner
    display     : Corner
    minimum     : ss
    typical     : tt
    maximum     : ff

parameters:
  # sampling_rate:
  #   description : sampling rate
  #   display     : sampling rate
  #   unit        : kS/s
  #   spec:
  #     sampling_rate :
  #       minimum :
  #         value : any
  #       typical :
  #         value : any
  #       maximum :
  #         value : any
  #   tool:
  #     ngspice:
  #       template          : sampling_rate.sch
  #       format            : ascii
  #       suffix            : .data
  #       variables         : [time, Clk, FFCLR]
  #       script            : sampling_rate.py
  #       script_variables  : [sampling_rate]
  #   conditions:
  #     VVDD:
  #       typical : 1.8
  #     temperature:
  #       typical : 27
  #     corner:
  #       typical : tt
  #     VVin:
  #       minimum  : 0
  #       maximum  : 1.8
  #       step     : linear
  #       stepsize : 0.6 #to change

  # SNDR:
  #   description : SNDR
  #   display     : SNDR
  #   unit        : dB
  #   spec:
  #     sndr :
  #       minimum :
  #         value : any
  #       typical :
  #         value : any
  #       maximum :
  #         value : any
  #   tool:
  #     ngspice:
  #       template          : sndr_enob_fom.sch
  #       format            : ascii
  #       suffix            : .data
  #       variables         : [time, I, Q7, Q6, Q5, Q4, Q3, Q2, Q1, Q0]
  #       script            : sndr_enob_fom.py
  #       script_variables  : [sndr]
  #   conditions:
  #     VVDD:
  #       typical : 1.8
  #     temperature:
  #       typical : 27
  #     corner:
  #       typical : tt

  # ENOB:
  #   description : ENOB
  #   display     : ENOB
  #   unit        : bits
  #   spec:
  #     enob :
  #       minimum :
  #         value : any
  #       typical :
  #         value : any
  #       maximum :
  #         value : any
  #   tool:
  #     ngspice:
  #       template          : sndr_enob_fom.sch
  #       format            : ascii
  #       suffix            : .data
  #       variables         : [time, Q7, Q6, Q5, Q4, Q3, Q2, Q1, Q0]
  #       script            : sndr_enob_fom.py
  #       script_variables  : [sndr, enob, fom]
  #   conditions:
  #     VVDD:
  #       typical : 1.8
  #     temperature:
  #       typical : 27
  #     corner:
  #       typical : tt

  # FOM:
  #   description : FOM
  #   display     : FOM
  #   unit        : fJ/conv-step
  #   spec:
  #     enob :
  #       minimum :
  #         value : any
  #       typical :
  #         value : any
  #       maximum :
  #         value : any
  #   tool:
  #     ngspice:
  #       template          : sndr_enob_fom.sch
  #       format            : ascii
  #       suffix            : .data
  #       variables         : [time, Q7, Q6, Q5, Q4, Q3, Q2, Q1, Q0]
  #       script            : sndr_enob_fom.py
  #       script_variables  : [sndr, enob, fom]
  #   conditions:
  #     VVDD:
  #       typical : 1.8
  #     temperature:
  #       typical : 27
  #     corner:
  #       typical : tt

  # offset_error:
  #   description : Offset Error
  #   display     : Offset Error
  #   unit        : LSB
  #   spec:
  #     offset_error :
  #       minimum :
  #         value : any
  #       typical :
  #         value : any
  #       maximum :
  #         value : any
  #   tool:
  #     ngspice:
  #       template          : offset_error.sch
  #       format            : ascii
  #       suffix            : .data
  #       variables         : [time, Vin, Q7, Q6, Q5, Q4, Q3, Q2, Q1, Q0]
  #       script            : offset_error.py
  #       script_variables  : [offset_error, codes_decimal, codes_binary, Vin_samples]
  #   plot:
  #     offset_error:
  #       xaxis: Vin_samples      
  #       yaxis: codes_binary    
  #   conditions:
  #     VVDD:
  #       typical : 1.8
  #     temperature:
  #       typical : 27
  #     corner:
  #       enumerate : [tt, ff, ss, sf, fs]

  # Power:
  #   description : Current draw through analog supply, ADC enabled
  #   display     : Average Power
  #   unit        : mW
  #   spec:
  #     avg_power :
  #       minimum :
  #         value : any
  #       typical :
  #         value : any
  #       maximum :
  #         value : any
  #   tool:
  #     ngspice:
  #       template          : power_consumption.sch
  #       format            : ascii
  #       suffix            : .data
  #       variables         : [null, idd]
  #       script            : power_consumption.py
  #       script_variables  : [power, avg_power]
  #   plot:
  #     power:
  #       xaxis : VVin
  #       yaxis : avg_power
  #   conditions:
  #     VVDD:
  #       typical : 1.8
  #     VVin:
  #       minimum: 0
  #       maximum: 1.8
  #       step: linear
  #       stepsize: 0.1
  #     temperature:
  #       typical : 27
  #     corner:
  #       enumerate: [tt, ss, fs, sf, ff]

  # INL:
  #   description: Intergral nonlinearity (INL) Test
  #   display: INL
  #   unit: lsb
  #   spec:
  #     inl:
  #       minimum:
  #         value: -1
  #         fail: true
  #       typical:
  #         value: 0
  #       maximum:
  #         value: 1.5
  #         fail: true
  #   tool:
  #     ngspice:
  #       template: sar_output.sch
  #       format: ascii
  #       suffix: .data
  #       variables: [time, VVin, VQ7, VQ6, VQ5, VQ4, VQ3, VQ2, VQ1, VQ0]
  #       script: inl.py
  #       script_variables: [vin, inl]
  #   plot:
  #     inl:
  #       xaxis: vin
  #       yaxis: inl
  #   conditions:
  #     VVDD:
  #       typical: 1.8
  #     VVin:
  #       enumerate: [1.736470588, 1.743529412, 1.750588235, 1.757647059, 1.764705882, 1.771764706, 1.778823529, 1.785882353, 1.792941176, 1.8]
  #     temperature:
  #       typical: 27
  #     corner:
  #       # minimum: ss
  #       typical: tt
  #       # maximum: ff
  #       # enumerate: [ss, tt, ff, sf, fs]


  DNL:
    description: Differential nonlinearity (DNL) Test
    display: DNL
    unit: lsb
    spec:
      dnl:
        minimum:
          value: -1
          fail: true
        typical:
          value: 0
        maximum:
          value: 1
          fail: true
    tool:
      ngspice:
        template: sar_output_dnl.sch
        format: ascii
        suffix: .data
        variables: [time, VVin, VQ7, VQ6, VQ5, VQ4, VQ3, VQ2, VQ1, VQ0]
        script: dnl.py
        script_variables: [code, dnl]
    # plot:
    #   dnl:
    #     xaxis: code
    #     yaxis: dnl
    conditions:
      VVDD:
        typical: 1.8
      VVbias:
        typical: -0.9
      temperature:
        typical: 27
      corner:
        # minimum: ss
        typical: tt
        # maximum: ff
        #enumerate:[ss, tt, ff, fs, sf]

  # magic_area:
  #   spec:
  #     area:
  #       display: Area
  #       description: Total circuit layout area
  #       unit: mm²
  #       maximum:
  #         value: any
  #     width:
  #       display: Width
  #       description: Total circuit layout width
  #       unit: µm
  #       maximum:
  #         value: any
  #     height:
  #       display: Height
  #       description: Total circuit layout height
  #       unit: µm
  #       maximum:
  #         value: any
  #   tool:
  #     magic_area

  # magic_drc:
  #   description: Magic DRC
  #   display: Magic DRC
  #   spec:
  #     drc_errors:
  #       maximum:
  #         value: 0
  #   tool:
  #     magic_drc:
  #       gds_flatten: true

  # netgen_lvs:
  #   description: Netgen LVS
  #   display: Netgen LVS
  #   spec:
  #     lvs_errors:
  #       maximum:
  #         value: 0
  #   tool:
  #     netgen_lvs:
  #       script: run_project_lvs.tcl

